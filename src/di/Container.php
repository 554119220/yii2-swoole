<?php
/**
 * Created by PhpStorm.
 * User: tsingsun
 * Date: 2017/2/24
 * Time: 下午4:28
 */

namespace yii\swoole\di;

use Yii;

class Container extends \yii\di\Container
{

    private $classCompatible = [
        'yii\web\Response' => 'yii\swoole\web\Response',
        'yii\web\ErrorHandler' => 'yii\swoole\web\ErrorHandle',
        'yii\log\Logger' => 'yii\swoole\log\Logger',
        'yii\web\Session' => 'yii\swoole\web\Session',
        'yii\log\FileTarget' => 'yii\swoole\log\FileTarget'
    ];

    protected $autoReload = false;

    public function setAutoReload($value)
    {
        $this->autoReload = $value;
    }

    public function get($class, $params = [], $config = [])
    {
        return parent::get($class, $params, $config); // TODO: Change the autogenerated stub
    }


    protected function build($class, $params, $config)
    {
        if (isset($this->classCompatible[$class])) {
            $class = $this->classCompatible[$class];
        }
        return parent::build($class, $params, $config); // TODO: Change the autogenerated stub
    }


}